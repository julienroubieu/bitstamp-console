<head>
  <title>Bitstamp Control Center</title>
</head>

<body>
  {{> title}}
  {{> balance}}
  {{> ticker}}
  {{> buy}}
  {{> sell}}
  {{> open_orders}}
  {{> user_transactions}}
</body>

<template name="title">
  <h1>Bitstamp Control Center</h1>
</template>

<template name="buy">
  <h2>Buy</h2>
  <p>Available: {{available}} USD</p>
  <div id="buy-box">
    <button id="buy-clear">Clear</button>
    <button id="buy-dec">-</button>
    <button id="buy-inc">+</button>
    <input type="text" id="buy-price" placeholder="Price" />
    or <span id="buy-best">{{best}}</span>
    <button id="buy-button">Buy all</button>
  </div>
</template> 

<template name="sell">
  <h2>Sell</h2>
  <p>Available: {{available}} BTC</p>
  <div id="sell-box">
    <button id="sell-clear">Clear</button>
    <button id="sell-dec">-</button>
    <button id="sell-inc">+</button>
    <input type="text" id="sell-price" placeholder="Price" />
    or <span id="sell-best">{{best}}</span>
    <button id="sell-button">Sell all</button>
  </div>
</template> 

<template name="ticker">
  <h2>Ticker</h2>
  <div>Updated: {{ticker.date}} {{ticker.time}}</div>
  <div>Last: {{ticker.last}}</div>
  <div>Bid: {{ticker.bid}}</div>
  <div>Ask: {{ticker.ask}}</div>
</template>

<template name="balance">
  <h2>Balance</h2>
  <div>Available USD: {{r.usd_available}}</div>
  <div>Reserved USD: {{r.usd_reserved}}</div>
  <div>Reserved BTC: {{r.btc_reserved}}</div>
  <div>Available BTC: {{r.btc_available}}</div>
</template>

<template name="user_transactions">
  <h2>Transactions</h2>
  <table>
    <tr>
      <th>Date</th>
      <th>Type</th>
      <th>USD</th>
      <th>BTC</th>
      <th>Fee</th>
    </tr>
  {{#each transactions}}
    <tr>
      <td>{{datetime}}</td>
      <td>{{type}}</td>
      <td>{{usd}}</td>
      <td>{{btc}}</td>
      <td>{{fee}}</td>
    </tr>
  {{/each}}
</table>
</template>

<template name="open_orders">
  <h2>Open Orders</h2>
  <table>
    <tr>
      <th>Date</th>
      <th>Type</th>
      <th>Price</th>
      <th>Amount</th>
      <th></th>
    </tr>
  {{#each orders}}
    <tr>
      <td>{{datetime}}</td>
      <td>{{type}}</td>
      <td>{{price}}</td>
      <td>{{amount}}</td>
      <td><button class="cancel">Cancel</button></td>
    </tr>
  {{/each}}
</table>
</template>